name: prologin2014

constant:
    -
        cst_name: TAILLE_TERRAIN
        cst_comment: Taille du terrain (longueur et largeur)
    -
        cst_name: NB_JOUEURS
        cst_val: 4
        cst_comment: Nombre de joueurs dans la partie
    -
        cst_name: REVENU_CHAUDRON


enum:
    -
        enum_name: case_info
        enum_summary: "Information sur les cases"
        enum_field:
            - [case_simple, "Case simple"]
            - [case_tourelle, "Tourelle"]
            - [case_spawn, "Zone de spawn"]
            - [case_fontaine, "Fontaine magique"]
            - [case_fontaine_centrale, "Fontaine magique centrale"]
    -
        enum_name: tourelle_type
        enum_summary: "Information sur les cases"
        enum_field:
            - [case_simple, "Case simple"]
            - [case_tourelle, "Tourelle"]
            - [case_spawn, "Zone de spawn"]
            - [case_fontaine, "Fontaine magique"]
            - [case_fontaine_centrale, "Fontaine magique centrale"]
    -
        enum_name: erreur
        enum_summary: "Erreurs possibles"
        enum_field: []

struct:
    -
        str_name: position
        str_summary: Représente la position sur la carte
        str_tuple: yes
        str_field:
            - [x, int, "Coordonnée en X"]
            - [y, int, "Coordonnée en Y"]
    -
        str_name: tourelle
        str_summary: Représente une tourelle
        str_tuple: no
        str_field:
            - [pos, position, "Position"]
            - [portee, int, "Portee de la tourelle"]
            - [joueur, int, "Joueur qui possède la tour"]

function:
    -
        fct_name: info_terrain
        fct_summary:
            "Retourne la nature du terrain désigné par pos"
        fct_ret_type: terrain
        fct_arg:
            - [pos, position, "Position"]

    -
        fct_name: distance
        fct_summary:
            "Retourne la distance entre deux positions"
        fct_ret_type: int
        fct_arg:
            - [depart, position, "Départ"]
            - [arrivee, position, "Arrivée"]

    -
        fct_name: mes_tourelles
        fct_summary:
            "Retourne la liste des positions des so tourelles qui vous appartiennent"
        fct_ret_type: position array
        fct_arg: []

    -
        fct_name: construire
        fct_summary:
            "Construire une tourelle de type ``ttype`` sur l'ile a la position ``pos``"
        fct_ret_type: erreur
        fct_arg:
            - [pos, position, "Position"]
            - [int, portee, "Portée"]
            - [tourelle_type, type, "Type de tourelle"]

    -
        fct_name: recycler
        fct_summary:
            "Recycle une tourelle a la position ``pos``"
        fct_ret_type: erreur
        fct_arg:
            - [pos, position, "Position"]

    -
        fct_name: attaquer_tourelle
        fct_summary:
            "Attaque la tourelle a la position ``pos``"
        fct_ret_type: erreur
        fct_arg:
            - [pos, position, "Position"]
    -
        fct_name: deplacer
        fct_summary:
            "Deplace le sorcier represente par l'identifiant ``id`` jusqu'a la position ``pos``."
        fct_ret_type: erreur
        fct_arg:
            - [id, int, "Identifiant du sorcier"]
            - [pos, position, "Position sur laquelle deplacer le sorcier"]
# Autre
    -
        fct_name: mon_joueur
        fct_summary: "Retourne le numéro de votre joueur"
        fct_ret_type: int
        fct_arg: []
    -
        fct_name: adversaires
        fct_summary: "Retourne la liste des numéros de vos adversaires"
        fct_ret_type: int array
        fct_arg: []
    -
        fct_name: score
        fct_summary: "Retourne votre score actuel"
        fct_ret_type: int
        fct_arg: []
    -
        fct_name: tour_actuel
        fct_summary: "Retourne le numéro du tour actuel"
        fct_type: int
        fct_arg: []
    -
        fct_name: nombre_sorciers
        fct_summary: "Retourne le nombre de sorciers que possède le joueur
                      désigné par le numéro``id``"
        fct_ret_type: int
        fct_arg:
            - [id_joueur, int, "Identifiant du joeur"]

user_function:
    -
        fct_name: partie_init
        fct_summary: Fonction appelée au début de la partie
        fct_ret_type: void
        fct_arg: []
    -
        fct_name: jouer_tour
        fct_summary: Fonction appelée à chaque tour
        fct_ret_type: void
        fct_arg: []
    -
        fct_name: partie_fin
        fct_summary: Fonction appelée à la fin de la partie
        fct_ret_type: void
        fct_arg: []
